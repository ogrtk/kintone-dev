# ktplug-qrcode-reader

`ktplug-qrcode-reader` は kintone 向けのプラグインで、QRコードを利用したカスタマイズを可能にします。

## 動作概要

このプラグインは、QRコードを読み取り、その情報を基に kintone の一覧画面や詳細画面で検索・登録・更新を行うことができます。

- **一覧画面での利用**

  - QRコードをスキャンして、関連するレコードを検索し表示します。
  - 読み取ったQRコードの情報を元に、新しいレコードを登録します。
  - 既存のレコードを更新することができます。

- **詳細画面での利用**

  - QRコードの値を特定のフィールドに自動入力します。

## プラグインのインストール

1. `dist/` ディレクトリ内の `plugin.zip` を kintone の管理画面からインストールしてください。
2. kintone のアプリ設定でプラグインを有効にしてください。
3. 設定画面を開き、必要なパラメータを入力してください。

## 設定画面

### 設定可能な項目

| 設定項目                                 | 説明                                  |
| ------------------------------------ | ----------------------------------- |
| **QRコード設定** (`qrCode`)               |                                     |
| ├ `field`                            | QRコードの値を保存するフィールドを選択                |
| ├ `dataName`                         | 画面上のメッセージ等で、QRコードのデータをどのように呼称するかの設定 |
| **用途種別** (`useCase`)                 | QRコードの利用用途を指定（例: 一覧検索、登録、更新、詳細画面）   |
| ├ **検索一覧の設定** (`useCase.listSearch`) | 一覧画面での検索用途の設定                       |
| │ ├ `targetViewName`                 | 検索を行う kintone の一覧画面を指定              |
| │ ├ `additionalQuery`                | 検索時に追加の条件を指定 (オプション)                |
| ├ **登録一覧の設定** (`useCase.listRegist`) | 一覧画面での登録用途の設定                       |
| │ ├ `targetViewName`                 | 登録を行う kintone の一覧画面を指定              |
| │ ├ `noDuplicate`                    | 重複登録を防ぐかどうか                         |
| │ ├ `duplicateCheckAdditionalQuery`  | 重複チェック時に追加の条件を指定 (オプション)            |
| │ ├ `useAdditionalValues`            | 追加の値を設定するかどうか                       |
| │ ├ `additionalValues`               | 追加の値 (オプション)                        |
| ├ **更新一覧の設定** (`useCase.listUpdate`) | 一覧画面での更新用途の設定                       |
| │ ├ `targetViewName`                 | 更新を行う kintone の一覧画面を指定              |
| │ ├ `additionalQuery`                | 更新時に追加の条件を指定 (オプション)                |
| │ ├ `updateValues`                   | 更新するフィールドと値のセット                     |
| ├ **詳細画面の設定** (`useCase.record`)     | 詳細画面でのカスタマイズの設定                     |
| │ ├ `space`                          | 詳細画面のカスタマイズを行うスペースの ID を指定          |

## ライセンス

このプロジェクトのライセンスについては、`LICENSE` ファイルを参照してください。

